<!DOCTYPE html>
<html>
    <head>
        <title> GET-COOL 상품 상세 페이지 </title>
        <script src="https://kit.fontawesome.com/9a9efcd4cd.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="css/item.css">
    </head>
    <body>
        <header>
            <div class = "l_s">
                <div class = "logo">
                    <p class = "logo_text"><a href="main.html">GET-COOL</a></p>
                </div>
                <div class = "search">
                    <form class = "search_box" action="" method="get">
                        <input class = "search_text" type = "text" placeholder="검색어를 입력하세요."/>
                        <button class="search_btn" type="submit"> <i class="fa-solid fa-magnifying-glass"></i> </button>
                    </form>
                </div>
            </div>
            <div class = "h_btn">
                <div class = "h_cart_container"><a href="cart.html">
                    <button class="h_cart" id="cartButton"><i class="fa-solid fa-shopping-cart"></i></button>
                    <p class="hc_txt">장바구니</p></a>
                </div>
                <div class = "h_cart_container"><a href="orders.html">
                    <button class="h_cart"><i class="fa-solid fa-user"></i></button>
                    <p class="hc_txt">마이페이지</p></a>
                </div>
            </div>
        </header>
        <nav>
            <div class = "cate_container">
                <div class = "cate_c">
                    <div class = "cate">
                        <div class = "l_cate">
                            <p><a href="#">농산</a></p>
                        </div>
                        <div>
                            <ul class = "s_cate">
                                <li><a href="#">곡류</a></li>
                                <li><a href="#">과일</a></li>
                                <li><a href="#">채소</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class = "cate_c">
                    <div class = "cate">
                        <div class = "l_cate">
                            <p><a href="#">수산</a></p>
                        </div>
                        <div>
                            <ul class = "s_cate">
                                <li><a href="#">생선</a></li>
                                <li><a href="#">해산물</a></li>
                                <li><a href="#">건어물/해조류</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class = "cate_c">
                    <div class = "cate">
                        <div class = "l_cate">
                            <p><a href="#">축산</a></p>
                        </div>
                        <div>
                            <ul class = "s_cate">
                                <li><a href="#">소고기</a></li>
                                <li><a href="#">돼지고기</a></li>
                                <li><a href="#">닭/오리</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class = "cate_c">
                    <div class = "cate">
                        <div class = "l_cate">
                            <p><a href="#">반찬/즉석식</a></p>
                        </div>
                        <div>
                            <ul class = "s_cate">
                                <li><a href="#">김치</a></li>
                                <li><a href="#">젓갈/반찬</a></li>
                                <li><a href="#">조미/장류</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class = "cate_c">
                    <div class = "cate">
                        <div class = "l_cate">
                            <p><a href="#">가공식품</a></p>
                        </div>
                        <div>
                            <ul class = "s_cate">
                                <li><a href="#">차/음료</a></li>
                                <li><a href="#">간식/과자</a></li>
                                <li><a href="#">밀키트/간편식</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class = "cate_c">
                    <div class = "cate">
                        <div class = "l_cate">
                            <p><a href="#">건강식품</a></p>
                        </div>
                        <div>
                            <ul class = "s_cate">
                                <li><a href="#">홍삼/인삼/꿀</a></li>
                                <li><a href="#">건강식품</a></li>
                                <li><a href="#">건강즙</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <hr class = "main_start">

        <p class = "market"><a href="#">> oo중앙시장/ㅁㅁ농산</a></p>
        <section class="product">
            <div class = "visual_box">
                <div class = "visual">
                    <span id="v_on"><img src="./감자1.png" width="500" alt=""></span>
                </div>
                <div class = "visual_list">
                    <span class = "v_on"><img src="./감자1.png" width="50" alt=""></span>
                    <span class = "v_list"><img src="./감자2.png" width="50" alt=""></span>
                    <span class = "v_list"><img src="./감자3.png" width="50" alt=""></span>
                    <span class = "v_list"><img src="./감자1.png" width="50" alt=""></span>
                </div>
            </div>
            <div class = "p_info">
                <div class = "p_container">
                    <p class = "p_name">하우스 햇감자 2kg/3kg/4kg</p>
                    <div class = "price_container">
                        <div class = "price_L">
                            <p class = "rate">11%</p>
                        </div>
                        <div class = "price_R">
                            <p class = "price">13,000원</p>
                            <p class = "discount">11,500원</p>
                        </div>
                    </div>

                    <div class = "counter">
                        <button class = "counter-btn" onclick="updateQuantity('Item1', -1)">-</button>
                        <div class = "count" id="quantity-Item1">1</div>
                        <button class = "counter-btn" onclick="updateQuantity('Item1', 1)">+</button>
                    </div>

                    <form class = "cart_input">
                        <select class="p_option">
                            <option value="default">옵션을 선택하세요.</option>
                            <option value="1kg">1kg</option>
                            <option value="2kg">2kg</option>
                            <option value="3kg">3kg</option>
                        </select>
                        <button class="cart-btn" type="submit">장바구니에 담기</button>
                    </form>
                </div>
            </div>
        </section>
        
        <section class = "product_bottom">
            <div class = "details_container">
                <div class="tabs">
                    <button class="tab-link active" onclick="openTab(event, 'details')">상세 정보</button>
                    <button class="tab-link" onclick="openTab(event, 'reviews')">리뷰</button>
                </div>
                <div id="details" class="tab-content active">
                    <div class = "d_txt">
                        <p>판매자가 작성한 상품 설명이 들어가는 부분입니다.</p>
                        <p>이미지를 넣지 않고 글만 추가하여 작성할 수도 있습니다.</p>
                    </div>
                    <img src="감자상세이미지.jpeg" width="600" alt="">
                </div>
                <div id="reviews" class="tab-content">
                    <div class = "review_container">
                        <div>
                            <span><p class = "rn">홍길동</p></span>
                            <span><p class = "rr">2024/08/16</p></span>
                            <span><p class = "rr">1kg</p></span>
                        </div>
                        <div>
                            <p class ="r_t">상품 잘 받았어요~ 감자가 상처도 없고 1kg보다 더 많이 담겨져 있는 것 같아요</p>
                        </div>
                    </div>
                    <div class = "review_container">
                        <div>
                            <span><p class = "rn">홍길동</p></span>
                            <span><p class = "rr">2024/08/16</p></span>
                            <span><p class = "rr">1kg</p></span>
                        </div>
                        <div>
                            <p class ="r_t">상품 잘 받았어요~ 감자가 상처도 없고 1kg보다 더 많이 담겨져 있는 것 같아요</p>
                        </div>
                    </div>
                    <div class = "review_container">
                        <div>
                            <span><p class = "rn">홍길동</p></span>
                            <span><p class = "rr">2024/08/16</p></span>
                            <span><p class = "rr">1kg</p></span>
                        </div>
                        <div>
                            <p class ="r_t">상품 잘 받았어요~ 감자가 상처도 없고 1kg보다 더 많이 담겨져 있는 것 같아요</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class = "float_box">
                <p class = "f_market"><a href="#">> oo중앙시장/ㅁㅁ농산</a></p>
                <div class = "f_name_container">
                    <img src="./감자1.png" width="50" alt="">
                    <p class = "f_name">하우스 햇감자 2kg/3kg/4kg</p>
                </div>
                <div class = "f_price_container">
                    <div class = "f_counter_container">
                        <div class = "f_counter">
                            <button class = "f_counter-btn" onclick="updateQuantity('Item1', -1)">-</button>
                            <div class = "f_count" id="quantity-Item1">1</div>
                            <button class = "f_counter-btn" onclick="updateQuantity('Item1', 1)">+</button>
                        </div>
                    </div>
                    <div class = "f_price">
                        <p class = "f_p">13,000원</p>
                        <p class = "f_d">11,500원</p>
                    </div>
                </div>
                <form class = "f_cart_input">
                    <select class="f_option">
                        <option value="default">옵션을 선택하세요.</option>
                        <option value="1kg">1kg</option>
                        <option value="2kg">2kg</option>
                        <option value="3kg">3kg</option>
                    </select>
                    <button class="f_cart-btn" type="submit">장바구니에 담기</button>
                </form>
            </div>
        </section>
        
        <script>
            document.querySelectorAll('.cate').forEach(function(cate) {
                cate.addEventListener('mouseenter', function() {
                    document.querySelectorAll('.s_cate').forEach(function(sCate) {
                        sCate.style.display = 'block'; // 모든 세부 카테고리를 보이게 함
                    });
                });

            cate.addEventListener('mouseleave', function() {
                document.querySelectorAll('.s_cate').forEach(function(sCate) {
                    sCate.style.display = 'none'; // 모든 세부 카테고리를 숨김
                    });
                });
            });

            let cart = {};

            function updateQuantity(item, change) {
                if (!cart[item]) {
                    cart[item] = 0;
                }
                cart[item] += change;
                if (cart[item] < 1) {
                    cart[item] = 1;
                }
                document.querySelectorAll(`#quantity-${item}`).forEach(element => {
                    element.textContent = cart[item];
                });
                updateCart();
            }

            function updateCart() {
                const cartDiv = document.getElementById('cart');
                cartDiv.innerHTML = '';
                for (let item in cart) {
                    if (cart[item] > 0) {
                        const cartItem = document.createElement('div');
                        cartItem.className = 'cart-item';
                        cartItem.textContent = `${item}: ${cart[item]}`;
                        cartDiv.appendChild(cartItem);
                    }
                }
            }

            function openTab(evt, tabName) {
            // 모든 탭 콘텐츠를 숨기기
            var tabContents = document.getElementsByClassName('tab-content');
            for (var i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }

            // 모든 탭 링크의 활성 상태 제거
            var tabLinks = document.getElementsByClassName('tab-link');
            for (var i = 0; i < tabLinks.length; i++) {
                tabLinks[i].classList.remove('active');
            }

            // 클릭한 탭 콘텐츠를 활성화
            document.getElementById(tabName).classList.add('active');

            // 클릭한 탭 링크를 활성화
            evt.currentTarget.classList.add('active');
            }

            document.addEventListener("DOMContentLoaded", function() {
                // 썸네일 이미지와 메인 이미지 요소 선택
                const listImages = document.querySelectorAll('.v_list img, .v_on img');
                const mainImage = document.getElementById('v_on').querySelector('img');

                // 썸네일 이미지를 클릭했을 때 발생할 이벤트 핸들러
                listImages.forEach(function(image) {
                    image.addEventListener('click', function() {
                        // 현재 선택된 이미지의 v_on 클래스를 가진 요소 찾기
                        const currentOn = document.querySelector('.v_on');
                        currentOn.classList.remove('v_on');
                        currentOn.classList.add('v_list');

                        this.classList.remove('v_list');
                        this.classList.add('v_on');
                        mainImage.src = this.src;
                    });
                })
            });

        </script>
    </body>
</html>