<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/9a9efcd4cd.js" crossorigin="anonymous"></script>
    <title>장바구니</title>
    <link rel="stylesheet" href="css/cart.css">
</head>
<body>
    <header>
        <div class = "l_s">
            <div class = "logo">
                <p class = "logo_text"><a href="main.html">GET-COOL</a></p>
            </div>
            <div class = "search">
                <form class = "search_box" action="" method="get">
                    <input class = "search_text" type = "text" placeholder="검색어를 입력하세요."/>
                    <button class="search_btn" type="submit"> <i class="fa-solid fa-magnifying-glass"></i> </button>
                </form>
            </div>
        </div>
        <div class = "h_btn">
            <div class = "h_cart_container"><a href="cart.html">
                <button class="h_cart" id="cartButton"><i class="fa-solid fa-shopping-cart"></i></button>
                <p class="hc_txt">장바구니</p></a>
            </div>
            <div class = "h_cart_container"><a href="orders.html">
                <button class="h_cart"><i class="fa-solid fa-user"></i></button>
                <p class="hc_txt">마이페이지</p></a>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="cart-header">
            <h1>장바구니</h1>
        </div>
        <div class="cart">
            <div class="cart-items">
                <div class="cart-item">
                    <img src="path/to/image1.jpg" alt="상품 1">
                    <div class="cart-item-info">
                        <h2>상품 1</h2>
                        <div class="cart-item-quantity">
                            <button onclick="updateQuantity(this, -1)">-</button>
                            <input type="number" value="1" min="1" readonly>
                            <button onclick="updateQuantity(this, 1)">+</button>
                        </div>
                    </div>
                    <div class="cart-item-price" data-price="10000">₩10,000</div>
                </div>
                <div class="cart-item">
                    <img src="path/to/image2.jpg" alt="상품 2">
                    <div class="cart-item-info">
                        <h2>상품 2</h2>
                        <div class="cart-item-quantity">
                            <button onclick="updateQuantity(this, -1)">-</button>
                            <input type="number" value="1" min="1" readonly>
                            <button onclick="updateQuantity(this, 1)">+</button>
                        </div>
                    </div>
                    <div class="cart-item-price" data-price="20000">₩20,000</div>
                </div>
            </div>
            <div class="cart-summary">
                <h2>장바구니</h2>
                <div class="cart-summary-total">
                    총 금액: ₩<span id="total-price">0</span>
                </div>
                <button id="checkout-btn">결제하기</button>
            </div>
        </div>
    </div>
    <script>
        function updateQuantity(button, delta) {
            const quantityInput = button.parentElement.querySelector('input');
            let quantity = parseInt(quantityInput.value);
            quantity = Math.max(1, quantity + delta);
            quantityInput.value = quantity;

            updateTotalPrice();
        }

        function updateTotalPrice() {
            const cartItems = document.querySelectorAll('.cart-item');
            let totalPrice = 0;

            cartItems.forEach(item => {
                const price = parseInt(item.querySelector('.cart-item-price').getAttribute('data-price'));
                const quantity = parseInt(item.querySelector('input').value);
                totalPrice += price * quantity;
            });

            document.getElementById('total-price').innerText = totalPrice.toLocaleString();
        }

        document.getElementById('checkout-btn').addEventListener('click', function() {
            window.location.href = 'pay.html';
        });

        // 초기 총 금액을 계산합니다.
        updateTotalPrice();
    </script>
</body>
</html>
